!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=34)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.lodash}()},function(e,t){!function(){e.exports=this.wp.richText}()},function(e,t){!function(){e.exports=this.wp.blockEditor}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t,n){var r=n(16),o=n(17),c=n(18),i=n(20);e.exports=function(e,t){return r(e)||o(e,t)||c(e,t)||i()}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){!function(){e.exports=this.wp.data}()},function(e,t){!function(){e.exports=this.wp.blocks}()},function(e,t){!function(){e.exports=this.wp.apiFetch}()},function(e,t){!function(){e.exports=this.wp.editPost}()},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){!function(){e.exports=this.wp.plugins}()},function(e,t){!function(){e.exports=this.wp.hooks}()},function(e,t,n){e.exports=function(e,t,n,r,o,c,i,a,s,u){"use strict";function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?l(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n,r=r&&r.hasOwnProperty("default")?r.default:r,o=o&&o.hasOwnProperty("default")?o.default:o,c=c&&c.hasOwnProperty("default")?c.default:c,i=i&&i.hasOwnProperty("default")?i.default:i,a=a&&a.hasOwnProperty("default")?a.default:a;var p="default"in s?s.default:s,d={},b=(u.node,u.node,u.bool,u.string,u.oneOfType([u.string,u.array]),u.func,u.func,u.func,function(s){function u(e){var n;t(this,u),n=r(this,o(u).call(this,e)),a(c(n),"srcToArray",(function(e){return(Array.isArray(e)?e:[e]).filter((function(e){return e}))})),a(c(n),"onLoad",(function(){d[n.sourceList[n.state.currentIndex]]=!0,n.i&&n.setState({isLoaded:!0})})),a(c(n),"onError",(function(){if(d[n.sourceList[n.state.currentIndex]]=!1,!n.i)return!1;for(var e,t=n.state.currentIndex+1;t<n.sourceList.length;t++){if(!((e=n.sourceList[t])in d)){n.setState({currentIndex:t});break}if(!0===d[e])return n.setState({currentIndex:t,isLoading:!1,isLoaded:!0}),!0;d[e]}return t===n.sourceList.length?n.setState({isLoading:!1}):void n.loadImg()})),a(c(n),"loadImg",(function(){n.i=new Image,n.i.src=n.sourceList[n.state.currentIndex],n.props.crossorigin&&(n.i.crossOrigin=n.props.crossorigin),n.props.decode&&n.i.decode?n.i.decode().then(n.onLoad).catch(n.onError):(n.i.onload=n.onLoad,n.i.onerror=n.onError)})),a(c(n),"unloadImg",(function(){n.i.onerror=null,n.i.onload=null,n.i.src="";try{delete n.i.src}catch(e){}delete n.i})),n.loaderContainer=e.loaderContainer||e.container,n.unloaderContainer=e.unloaderContainer||e.container,n.sourceList=n.srcToArray(n.props.src);for(var i=0;i<n.sourceList.length&&n.sourceList[i]in d;i++)if(!0===d[n.sourceList[i]])return n.state={currentIndex:i,isLoading:!1,isLoaded:!0},r(n);return n.state=n.sourceList.length?{currentIndex:0,isLoading:!0,isLoaded:!1}:{isLoading:!1,isLoaded:!1},n}return i(u,s),n(u,[{key:"componentDidMount",value:function(){this.state.isLoading&&this.loadImg()}},{key:"componentWillUnmount",value:function(){this.i&&this.unloadImg()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;this.loaderContainer=e.loaderContainer||e.container,this.unloaderContainer=e.unloaderContainer||e.container;var n=this.srcToArray(e.src),r=n.filter((function(e){return-1===t.sourceList.indexOf(e)})),o=this.sourceList.filter((function(e){return-1===n.indexOf(e)}));if(r.length||o.length){if(this.sourceList=n,!n.length)return this.setState({isLoading:!1,isLoaded:!1});this.setState({currentIndex:0,isLoading:!0,isLoaded:!1},this.loadImg)}}},{key:"render",value:function(){var t=this.props,n=t.container,r=t.loader,o=t.unloader,c=(t.src,t.decode,t.loaderContainer,t.unloaderContainer,t.mockImage,e(t,["container","loader","unloader","src","decode","loaderContainer","unloaderContainer","mockImage"]));if(this.state.isLoaded){var i=f({},{src:this.sourceList[this.state.currentIndex]},{},c);return n(p.createElement("img",i))}return!this.state.isLoaded&&this.state.isLoading?r?this.loaderContainer(r):null:this.state.isLoaded||this.state.isLoading?void 0:o?this.unloaderContainer(o):null}}]),u}(s.Component));return a(b,"defaultProps",{loader:!1,unloader:!1,decode:!0,src:[],container:function(e){return e}}),b.propTypes={},b}(n(21),n(23),n(24),n(25),n(27),n(12),n(28),n(7),n(30),n(31))},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,c=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,c=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw c}}return n}}},function(e,t,n){var r=n(19);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var r=n(22);e.exports=function(e,t){if(null==e)return{};var n,o,c=r(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(26),o=n(12);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var r=n(29);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){!function(){e.exports=this.React}()},function(e,t,n){e.exports=n(32)()},function(e,t,n){"use strict";var r=n(33);function o(){}function c(){}c.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,c,i){if(i!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:c,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"name",(function(){return v})),n.d(r,"settings",(function(){return j}));var o={};n.r(o),n.d(o,"name",(function(){return _})),n.d(o,"settings",(function(){return w}));var c={};n.r(c),n.d(c,"name",(function(){return P})),n.d(c,"settings",(function(){return S}));var i={};n.r(i),n.d(i,"name",(function(){return Z})),n.d(i,"settings",(function(){return W}));var a=n(7),s=n.n(a),u=n(0),l=n(2),f=n(9),p=n(3),d=n(13);var b=function(e){if(e){var t=e.name,n=e.settings;Object(p.registerFormatType)(t,n)}},m=n(4),g=n(1),y=n(6),O=n.n(y),h=function(e){var t,n=e.onChangeColor,r=Object(u.useState)(void 0),o=O()(r,2),c=o[0],i=o[1],a=function(){var e=window.getSelection();if(1>e.rangeCount||"Range"!==e.type&&"Caret"!==e.type)return{};for(var n,r=e.getRangeAt(0),o=r.startContainer,c=o.nextElementSibling||o;c.nodeType!==window.Node.ELEMENT_NODE;)c=c.parentNode;if(c.closest){var i=c.closest(".smb-badge");if(i){var a=document.defaultView.getComputedStyle(i,null).backgroundColor;t=!(!(n=(n=a).match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))||4!==n.length)&&(n.shift(),"#"+n.map((function(e){return("0"+parseInt(e,10).toString(16)).slice(-2)})).join(""))}}return r.getBoundingClientRect()}();return Object(u.createElement)(m.URLPopover,{className:"smb-badge-popover",focusOnMount:!1,anchorRect:a},Object(u.createElement)("div",{className:"smb-badge-popover__inner"},Object(u.createElement)(m.ColorPalette,{value:c||t,onChange:function(e){i(e),n(e)}})))},v="snow-monkey-blocks/badge",j={title:Object(g.__)("Badge","snow-monkey-blocks"),tagName:"span",className:"smb-badge",attributes:{style:"style"},edit:function(e){var t=e.value,n=e.isActive,r=e.onChange;return Object(u.createElement)(u.Fragment,null,Object(u.createElement)(m.RichTextToolbarButton,{icon:"tag",title:Object(g.__)("Badge","snow-monkey-blocks"),onClick:function(){r(Object(p.toggleFormat)(t,{type:v}))},isActive:n}),n&&Object(u.createElement)(h,{onChangeColor:function(e){var n={};e?(n.style="background-color: ".concat(e),r(Object(p.applyFormat)(t,{type:v,attributes:n}))):r(Object(p.removeFormat)(t,v))}}))}},_="snow-monkey-blocks/highlighter",w={title:Object(g.__)("Highlighter","snow-monkey-blocks"),tagName:"span",className:"smb-highlighter",edit:function(e){var t=e.value,n=e.isActive,r=e.onChange;return Object(u.createElement)(u.Fragment,null,Object(u.createElement)(m.RichTextToolbarButton,{icon:"admin-customizer",title:Object(g.__)("Highlighter","snow-monkey-blocks"),onClick:function(){return r(Object(p.toggleFormat)(t,{type:_}))},isActive:n}))}},k=n(8);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var E=function(e){var t=e.value,n=e.isActive,r=e.onChange;return Object(u.createElement)(m.RichTextToolbarButton,{icon:"editor-removeformatting",title:Object(g.__)("Remove formatting","snow-monkey-blocks"),onClick:function(){var e=Object(k.select)("core/rich-text").getFormatTypes();if(0<e.length){var n=t;Object(l.map)(e,(function(e){n=Object(p.removeFormat)(n,e.name)})),r(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n))}},isActive:n})},P="snow-monkey-blocks/remove-fomatting",S={title:Object(g.__)("Remove formatting","snow-monkey-blocks"),tagName:"span",className:"smb-remove-fomatting",edit:function(e){var t=e.isActive,n=e.value,r=e.onChange;return Object(u.createElement)(E,{value:n,isActive:t,onChange:r})}},C=n(5),L=n(11),I=n(14),T=n(10),N=n.n(T),A=n(15),B=n.n(A),R=function(e){var t=e.src,n=e.className,r=e.loader;return Object(u.createElement)(B.a,{className:n,src:t||"".concat(smb.pluginUrl,"/dist/img/screenshot/none.png"),loader:r})},F=function(e){var t=e.slug,n=Object(u.useState)(null),r=O()(n,2),o=r[0],c=r[1],i=Object(u.useState)(null),a=O()(i,2),s=a[0],p=a[1];return function(){if(!s){var e=Object(k.dispatch)("core/editor"),n=e.insertBlocks,r=e.replaceBlocks,i=e.multiSelect,a=Object(k.select)("core/block-editor"),d=a.getBlocks,b=a.getBlockCount,m=a.getSelectedBlock,g=a.getBlockInsertionPoint;if(o||N()({path:"/snow-monkey-blocks/v5/block-template-panel/?slug=".concat(t),method:"GET",parse:!0}).then((function(e){c(e)})),o){var y=o.map((function(e){return smb.isPro||!e.isPro?Object(u.createElement)("li",null,Object(u.createElement)(C.Button,{className:"smb-menu__template-part__button",onClick:function(){var t=Object(f.parse)(e.content);if(t.length){var o=m();if(null===o){var c=Object(l.last)(d());void 0!==c&&null===c.rootClientId&&(!b(c.clientId)||"core/paragraph"===c.name&&""===c.attributes.content)?r(c.clientId,t):n(t)}else{if("core/paragraph"===o.name&&""===o.attributes.content)r(o.clientId,t);else{var a=g();n(t,a.index,a.rootClientId)}}i(Object(l.first)(t).clientId,Object(l.last)(t).clientId)}}},Object(u.createElement)(R,{className:"smb-menu__template-part__button__screenshot",src:e.screenshot,loader:Object(u.createElement)("div",{className:"smb-menu__template-part__button__screenshot__loading"},Object(u.createElement)(C.Spinner,null))}),Object(u.createElement)("span",{className:"smb-menu__template-part__button__title"},e.title))):null})).filter((function(e){return e}));p(y.filter((function(e){return e})))}}}(),s?Object(u.createElement)("ul",null,s):Object(u.createElement)("div",{className:"smb-menu__template-part__loading"},Object(u.createElement)(C.Spinner,null))},M=function(){var e=Object(u.useState)(null),t=O()(e,2),n=t[0],r=t[1],o=Object(u.useState)(null),c=O()(o,2),i=c[0],a=c[1];return function(){if(i)return i;if(n||N()({path:"/snow-monkey-blocks/v5/block-template-categories/",method:"GET",parse:!0}).then((function(e){r(e)})),n){var e=n.map((function(e){return smb.isPro||!e.isPro?Object(u.createElement)(C.PanelBody,{title:e.title},Object(u.createElement)(F,{slug:e.slug})):null})).filter((function(e){return e}));a(e.filter((function(e){return e})))}}(),i?Object(u.createElement)(u.Fragment,null,i):Object(u.createElement)("div",{className:"smb-menu__template-part__loading"},Object(u.createElement)(C.Spinner,null))},D=function(){return Object(u.createElement)(M,null)},U=Object(u.createElement)("svg",{role:"img",focusable:"false",width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},Object(u.createElement)("path",{d:"M13.982,16.711c-0.744,1.441 -2.248,2.428 -3.982,2.428c-1.735,0 -3.238,-0.986 -3.983,-2.428c0.909,-1.213 2.355,-2.002 3.983,-2.002c1.629,0 3.074,0.789 3.982,2.002Zm-0.748,-7.657c-0.314,2.56 1.248,2.919 1.248,5.603c0,0.467 -0.072,0.918 -0.205,1.344c-1.037,-1.203 -2.57,-1.967 -4.277,-1.967c-1.708,0 -3.24,0.764 -4.277,1.967c-0.133,-0.426 -0.205,-0.877 -0.205,-1.344c0,-2.684 1.563,-3.043 1.247,-5.603c-0.362,-2.928 -4.315,-2.465 -4.315,-5.334c0,-1.579 1.279,-2.858 2.858,-2.858c1.709,0 2.765,1.558 4.692,1.558c1.926,0 2.982,-1.558 4.691,-1.558c1.578,0 2.857,1.279 2.857,2.858c0.001,2.869 -3.952,2.406 -4.314,5.334Zm-4.677,-4.947l-0.708,0c0,0.498 -0.403,0.9 -0.901,0.9c-0.498,0 -0.901,-0.402 -0.901,-0.9l-0.708,0c0,0.889 0.72,1.609 1.609,1.609c0.889,0 1.609,-0.72 1.609,-1.609Zm0.979,7.141c0,-0.312 -0.253,-0.568 -0.566,-0.568c-0.313,0 -0.567,0.256 -0.567,0.568c0,0.312 0.254,0.566 0.567,0.566c0.313,0 0.566,-0.253 0.566,-0.566Zm2.062,0c0,-0.312 -0.254,-0.568 -0.568,-0.568c-0.312,0 -0.566,0.256 -0.566,0.568c0,0.312 0.254,0.566 0.566,0.566c0.314,0 0.568,-0.253 0.568,-0.566Zm3.062,-7.141l-0.707,0c0,0.498 -0.404,0.9 -0.9,0.9c-0.498,0 -0.902,-0.402 -0.902,-0.9l-0.707,0c0,0.889 0.721,1.609 1.609,1.609c0.886,0.001 1.607,-0.72 1.607,-1.609Z"})),Z="snow-monkey-blocks",W={icon:U,render:function(){var e=[{name:"block-templates",title:Object(g.__)("Block templates","snow-monkey-blocks"),className:"edit-post-sidebar__panel-tab"}];return Object(u.createElement)(u.Fragment,null,Object(u.createElement)(L.PluginSidebarMoreMenuItem,{target:"smbSidebar"},Object(g.__)("Snow Monkey Blocks","snow-monkey-blocks")),Object(u.createElement)(L.PluginSidebar,{name:"smbSidebar",title:Object(g.__)("Snow Monkey Blocks","snow-monkey-blocks")},Object(u.createElement)(C.TabPanel,{className:"edit-post-sidebar__panel-tabs",activeClass:"is-active",onSelect:function(e){return Object(I.applyFilters)("snow-monkey-blocks.select-menu",e)},tabs:e},(function(e){switch(e.name){case"block-templates":return Object(u.createElement)(D,null)}return null}))))}};b(r),b(o),b(c),function(e){if(e){var t=e.name,n=e.settings;Object(d.registerPlugin)(t,n)}}(i)}]);