!function(e){var t={};function n(r){if(t[r])return t[r].exports;var c=t[r]={i:r,l:!1,exports:{}};return e[r].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(r,c,function(t){return e[t]}.bind(null,c));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=19)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.blockEditor}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function c(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=c.apply(null,r);a&&e.push(a)}else if("object"===o)for(var i in r)n.call(r,i)&&r[i]&&e.push(i)}}return e.join(" ")}e.exports?(c.default=c,e.exports=c):void 0===(r=function(){return c}.apply(t,[]))||(e.exports=r)}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){!function(){e.exports=this.lodash}()},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e){e.exports=JSON.parse('{"titleTagName":{"type":"string","default":"h2"},"title":{"type":"string","source":"html","selector":".smb-media-text__title","default":""},"imageID":{"type":"number","default":0},"imageURL":{"type":"string","source":"attribute","selector":".smb-media-text__figure img, .smb-media-text__figure video","attribute":"src","default":""},"imageAlt":{"type":"string","source":"attribute","selector":".smb-media-text__figure img","attribute":"alt","default":""},"imageSizeSlug":{"type":"string","default":"large"},"imageMediaType":{"type":"string"},"caption":{"type":"string","source":"html","selector":".smb-media-text__caption","default":""},"imagePosition":{"type":"string","default":"right"},"imageColumnSize":{"type":"string","default":66},"url":{"type":"string","default":""},"target":{"type":"string","default":"_self"}}')},function(e,t){!function(){e.exports=this.wp.data}()},function(e,t){!function(){e.exports=this.wp.blocks}()},function(e,t){!function(){e.exports=this.wp.richText}()},function(e,t){!function(){e.exports=this.wp.plugins}()},function(e,t,n){var r=n(14),c=n(15),o=n(16),a=n(18);e.exports=function(e,t){return r(e)||c(e,t)||o(e,t)||a()}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,c=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){c=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(c)throw o}}return n}}},function(e,t,n){var r=n(17);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"name",(function(){return B})),n.d(r,"settings",(function(){return U}));var c=n(6),o=n.n(c),a=n(0),i=n(5),l=n(9);n(10),n(11);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){var t="1-3",n="2-3";return 75===parseInt(e)?(t="1-4",n="3-4"):66===parseInt(e)?(t="1-3",n="2-3"):50===parseInt(e)?(t="1-2",n="1-2"):33===parseInt(e)?(t="2-3",n="1-3"):25===parseInt(e)&&(t="3-4",n="1-4"),{textColumnWidth:t,imageColumnWidth:n}},b=function(e){return e.media_type?"image"===e.media_type?"image":"video":e.type},d=function(e,t){return t?Object(i.reduce)(e,(function(e,n){var r=Object(i.get)(t,["sizes",n.slug,"url"]),c=Object(i.get)(t,["media_details","sizes",n.slug,"source_url"]);return m(m({},e),{},o()({},n.slug,r||c))}),{}):{}},g=n(2),f={common:"smb",section:"smb-section"},p="#cd162c",O=n(7),_=n(12),j=n.n(_),v=n(3),y=n.n(v),w=n(8),h=n(4),E=n(1),x=n(13),k=n.n(x),S=function(e){var t=e.id,n=e.src,r=e.allowedTypes,c=e.accept,o=e.onSelect;return Object(a.createElement)(E.BlockControls,null,Object(a.createElement)(E.MediaReplaceFlow,{mediaId:t,mediaURL:n,allowedTypes:r,accept:c,onSelect:o}))},N=function(e){var t=e.src,n=e.alt,r=e.id;return Object(a.createElement)("img",{src:t,alt:n,className:"wp-image-".concat(r)})},C=function(e){var t=e.src;return Object(a.createElement)("video",{controls:!0,src:t})},T=Object(a.memo)((function(e){var t,n=e.id,r=e.src,c=e.alt,o=e.url,i=e.target,l=e.allowedTypes,s=e.accept,m=e.onSelect,u=e.mediaType;return"image"===u?(t=Object(a.createElement)(N,{src:r,alt:c,id:n}),o&&(t=Object(a.createElement)("span",{href:o,target:"_self"===i?void 0:i,rel:"_self"===i?void 0:"noopener noreferrer"},t))):"video"===u&&(t=Object(a.createElement)(C,{src:r})),Object(a.createElement)(a.Fragment,null,Object(a.createElement)(S,{id:n,src:r,allowedTypes:l,accept:s,onSelect:m}),t)}),(function(e,t){for(var n=0,r=Object.keys(e);n<r.length;n++){var c=r[n];if(e[c]!==t[c])return!1}return!0})),P=function(e){var t=e.src,n=e.onSelect,r=e.mediaType,c=e.allowedTypes,o=void 0===c?["image"]:c,i=!r&&t?"image":r,l=Object(g.__)("Media","snow-monkey-blocks");1===o.length&&("image"===o[0]?l=Object(g.__)("Image","snow-monkey-blocks"):"video"===o[0]&&(l=Object(g.__)("Video","snow-monkey-blocks")));var s=Object(a.useMemo)((function(){return o.map((function(e){return"".concat(e,"/*")})).join(",")}),[o]);return t?Object(a.createElement)(T,k()({},e,{accept:s,mediaType:i})):Object(a.createElement)(E.MediaPlaceholder,{icon:"format-image",labels:{title:l},onSelect:n,accept:s,allowedTypes:o})},I=function(e){return"_self"!==e&&("_blank"===e||void 0)},R=function(e){var t=e.url,n=e.target,r=e.onChange;return Object(a.createElement)(E.__experimentalLinkControl,{className:"wp-block-navigation-link__inline-link-input",value:{url:t,opensInNewTab:I(n)},onChange:r})},z=function(e){var t=e.label,n=e.id,r=e.slug,c=e.onChange;if(!n)return null;var o=Object(w.useSelect)((function(e){var t=(0,e("core").getMedia)(n);if(!t)return{options:[]};var r=(0,e("core/block-editor").getSettings)().imageSizes,c=d(r,t);return{options:r.map((function(e){return!!c[e.slug]&&{value:e.slug,label:e.name}})).filter((function(e){return e}))}})).options;return 1>o.length?null:Object(a.createElement)(h.SelectControl,{label:t,value:r,options:o,onChange:c})};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=[{attributes:D({},O),save:function(e){var t=e.attributes,n=t.title,r=t.imageID,c=t.imageURL,o=t.imagePosition,i=t.imageColumnSize,l=u(i),s=l.textColumnWidth,m=l.imageColumnWidth;return Object(a.createElement)("div",{className:"smb-media-text"},Object(a.createElement)("div",{className:y()("c-row","c-row--margin","c-row--middle",{"c-row--reverse":"left"===o})},Object(a.createElement)("div",{className:"c-row__col c-row__col--1-1 c-row__col--lg-".concat(s)},!E.RichText.isEmpty(n)&&Object(a.createElement)("h2",{className:"smb-media-text__title"},Object(a.createElement)(E.RichText.Content,{value:n})),Object(a.createElement)("div",{className:"smb-media-text__body"},Object(a.createElement)(E.InnerBlocks.Content,null))),Object(a.createElement)("div",{className:"c-row__col c-row__col--1-1 c-row__col--lg-".concat(m)},Object(a.createElement)("div",{className:"smb-media-text__figure"},c&&Object(a.createElement)("img",{src:c,alt:"",className:"wp-image-".concat(r)})))))}},{attributes:D({},O),save:function(e){var t=e.attributes,n=t.title,r=t.imageURL,c=t.imagePosition,o=t.imageColumnSize,i=u(o),l=i.textColumnWidth,s=i.imageColumnWidth;return Object(a.createElement)("div",{className:"smb-media-text"},Object(a.createElement)("div",{className:y()("c-row","c-row--margin","c-row--middle",{"c-row--reverse":"left"===c})},Object(a.createElement)("div",{className:"c-row__col c-row__col--1-1 c-row__col--lg-".concat(l)},!E.RichText.isEmpty(n)&&Object(a.createElement)("h2",{className:"smb-media-text__title"},Object(a.createElement)(E.RichText.Content,{value:n})),Object(a.createElement)("div",{className:"smb-media-text__body"},Object(a.createElement)(E.InnerBlocks.Content,null))),Object(a.createElement)("div",{className:"c-row__col c-row__col--1-1 c-row__col--lg-".concat(s)},Object(a.createElement)("div",{className:"smb-media-text__figure"},r&&Object(a.createElement)("img",{src:r,alt:""})))))}}],L={attributes:{imageID:1,imageURL:"".concat(smb.pluginUrl,"/dist/img/photos/sunset-over-lake-1.jpg")},innerBlocks:[{name:"core/paragraph",attributes:{content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam"}}]},B="snow-monkey-blocks/media-text",U={title:Object(g.__)("Media text","snow-monkey-blocks"),description:Object(g.__)("Set media and words side-by-side for a richer layout.","snow-monkey-blocks"),icon:{foreground:p,src:"align-left"},category:f.common,supports:{anchor:!0},attributes:O,edit:function(e){var t=e.attributes,n=e.setAttributes,r=e.isSelected,c=e.className,o=t.titleTagName,l=t.title,s=t.imageID,m=t.imageURL,f=t.imageAlt,p=t.imageSizeSlug,O=t.caption,_=t.imagePosition,v=t.imageColumnSize,x=t.url,k=t.target,S=t.imageMediaType,N=Object(a.useState)(!1),C=j()(N,2),T=C[0],I=C[1],M=function(){return I(!1)};Object(a.useEffect)((function(){r||M()}),[r]);var D=Object(w.useSelect)((function(e){if(!s)return{resizedImages:{}};var t=(0,e("core").getMedia)(s);if(!t)return{resizedImages:{}};var n=(0,e("core/block-editor").getSettings)().imageSizes;return{resizedImages:d(n,t)}})).resizedImages,A=["h1","h2","h3","none"],L=u(v),B=L.textColumnWidth,U=L.imageColumnWidth,W=y()("smb-media-text",c),F=y()("c-row","c-row--margin","c-row--middle",{"c-row--reverse":"left"===_}),q=y()("c-row__col","c-row__col--1-1",["c-row__col--lg-".concat(B)]),G=y()("c-row__col","c-row__col--1-1",["c-row__col--lg-".concat(U)]);return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(E.InspectorControls,null,Object(a.createElement)(h.PanelBody,{title:Object(g.__)("Block Settings","snow-monkey-blocks")},Object(a.createElement)(h.SelectControl,{label:Object(g.__)("Image Position","snow-monkey-blocks"),value:_,options:[{value:"right",label:Object(g.__)("Right side","snow-monkey-blocks")},{value:"left",label:Object(g.__)("Left side","snow-monkey-blocks")}],onChange:function(e){return n({imagePosition:e})}}),Object(a.createElement)(h.SelectControl,{label:Object(g.__)("Image Column Size","snow-monkey-blocks"),value:v,options:[{value:66,label:Object(g.__)("66%","snow-monkey-blocks")},{value:50,label:Object(g.__)("50%","snow-monkey-blocks")},{value:33,label:Object(g.__)("33%","snow-monkey-blocks")},{value:25,label:Object(g.__)("25%","snow-monkey-blocks")}],onChange:function(e){return n({imageColumnSize:e})}}),Object(a.createElement)(z,{label:Object(g.__)("Images size","snow-monkey-blocks"),id:s,slug:p,onChange:function(e){var t=D[e]||m;n({imageURL:t,imageSizeSlug:e})}}),Object(a.createElement)(h.BaseControl,{label:Object(g.__)("Title Tag","snow-monkey-blocks"),id:"snow-monkey-blocks/media-text/title-tag-name"},Object(a.createElement)("div",{className:"smb-list-icon-selector"},Object(i.times)(A.length,(function(e){return Object(a.createElement)(h.Button,{isDefault:!0,isPrimary:o===A[e],onClick:function(){return n({titleTagName:A[e]})}},A[e])})))))),Object(a.createElement)("div",{className:W},Object(a.createElement)("div",{className:F},Object(a.createElement)("div",{className:q},(!E.RichText.isEmpty(l)||r)&&"none"!==o&&Object(a.createElement)(E.RichText,{className:"smb-media-text__title",tagName:o,value:l,onChange:function(e){return n({title:e})},allowedFormats:[],placeholder:Object(g.__)("Write title…","snow-monkey-blocks")}),Object(a.createElement)("div",{className:"smb-media-text__body"},Object(a.createElement)(E.InnerBlocks,null))),Object(a.createElement)("div",{className:G},Object(a.createElement)("div",{className:"smb-media-text__figure"},Object(a.createElement)(P,{src:m,id:s,alt:f,url:x,target:k,onSelect:function(e){var t=e.sizes&&e.sizes[p]?e.sizes[p].url:e.url;n({imageURL:t,imageID:e.id,imageAlt:e.alt,imageMediaType:b(e)})},onRemove:function(){n({imageURL:"",imageAlt:"",imageID:0,imageMediaType:void 0})},mediaType:S,allowedTypes:["image","video"]}),T&&Object(a.createElement)(h.Popover,{position:"bottom center",onClose:M},Object(a.createElement)(R,{url:x,target:k,onChange:function(e){var t=e.url,r=e.opensInNewTab;n({url:t,target:r?"_blank":"_self"})}}))),(!E.RichText.isEmpty(O)||r)&&Object(a.createElement)(E.RichText,{className:"smb-media-text__caption",placeholder:Object(g.__)("Write caption…","snow-monkey-blocks"),value:O,onChange:function(e){return n({caption:e})}})))),m&&("image"===S||void 0===S)&&Object(a.createElement)(E.BlockControls,null,Object(a.createElement)(h.ToolbarGroup,null,Object(a.createElement)(h.Button,{icon:"admin-links",className:"components-toolbar__control",label:Object(g.__)("Link","snow-monkey-blocks"),"aria-expanded":T,onClick:function(){return I(!T)}}))))},save:function(e){var t,n=e.attributes,r=e.className,c=n.titleTagName,o=n.title,i=n.imageID,l=n.imageURL,s=n.imageAlt,m=n.imageMediaType,b=n.caption,d=n.imagePosition,g=n.imageColumnSize,f=n.url,p=n.target,O=u(g),_=O.textColumnWidth,j=O.imageColumnWidth,v=y()("smb-media-text",r),w=y()("c-row","c-row--margin","c-row--middle",{"c-row--reverse":"left"===d}),h=y()("c-row__col","c-row__col--1-1",["c-row__col--lg-".concat(_)]),x=y()("c-row__col","c-row__col--1-1",["c-row__col--lg-".concat(j)]),k=Object(a.createElement)("img",{src:l,alt:s,className:"wp-image-".concat(i)}),S=Object(a.createElement)("video",{controls:!0,src:l});return l&&("image"===m||void 0===m?t=f?Object(a.createElement)("a",{href:f,target:"_self"===p?void 0:p,rel:"_self"===p?void 0:"noopener noreferrer"},k):k:"video"===m&&(t=S)),Object(a.createElement)("div",{className:v},Object(a.createElement)("div",{className:w},Object(a.createElement)("div",{className:h},!E.RichText.isEmpty(o)&&"none"!==c&&Object(a.createElement)(E.RichText.Content,{className:"smb-media-text__title",tagName:c,value:o}),Object(a.createElement)("div",{className:"smb-media-text__body"},Object(a.createElement)(E.InnerBlocks.Content,null))),Object(a.createElement)("div",{className:x},Object(a.createElement)("div",{className:"smb-media-text__figure"},t),!E.RichText.isEmpty(b)&&Object(a.createElement)("div",{className:"smb-media-text__caption"},Object(a.createElement)(E.RichText.Content,{value:b})))))},deprecated:A,example:L};!function(e){if(e){var t=e.name,n=e.settings;Object(l.registerBlockType)(t,n)}}(r)}]);